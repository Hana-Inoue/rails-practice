<h1 class="fs-2 mb-5"><%= t('authorizations.edit.title') %></h1>

<%= form_with model: @user, url: user_authorizations_path(@user) do |form| %>
  <table class="table table-striped border">
    <thead>
      <tr>
        <th>Controller</th>
        <th>Action</th>
        <th>アクセス権限</th>
      </tr>
    </thead>
    <tbody>
      <%= form.collection_check_boxes(:authorization_ids,
                                      @authorizations,
                                      :id,
                                      :action,
                                      include_hidden: false) do |authorization| %>
        <%= authorization.label do %>
          <tr>
            <td><%= authorization.object.controller %></td>
            <td><%= authorization.object.action %></td>
            <td><%= authorization.check_box %></td>
          </tr>
        <% end %>
      <% end %>
    </tbody>
  </table>

  <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-2">
    <%= form.submit class: 'btn btn-primary btn-sm' %>
  </div>
<% end %>
